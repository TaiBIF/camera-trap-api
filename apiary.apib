FORMAT: 1A
HOST: http://api-dev.camera-trap.tw/api/v1

# api.camera-trap.tw

CameraTrap.TW is a repository for automatic biodiversity monitoring.

# Group System
## Configuration [/config]
### Retrieve configuration [GET /config]
- No permission required.

+ Request Get system configuration (application/json)

+ Response 200 (application/json)

    + Body

            {
              "languages": {
                "zh-TW": {
                  "title": "繁體中文"
                }
              },
              "oauthUrl": "https://orcid.org/oauth/authorize?client_id=APP-J9YGHZ0YL4KAMGKV&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fcallback%2Forcid%2Fauth&response_type=code&scope=%2Fauthenticate"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "language": {
                  "type": "object",
                  "description": "目前支援的語系",
                  "properties": {
                    "zh-TW": {
                      "type": "object",
                      "description": "繁體中文",
                      "properties": {
                        "title": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "oauthUrl": {
                  "type": "string",
                  "description": "登入網址，前端將瀏覽器轉跳到此網址讓使用者進行登入程序。登入完成後使用者會導回前端網址，前端網址在 [camera-trap-credentials](https://github.com/TaiBIF/camera-trap-credentials/blob/master/default.js#L1) 設定"
                }
              }
            }

## Announcements [/system-announcements]
- No permission required.

### Retrieve notification [GET /system-announcements{?index,size,sort}]
取得系統公告。

+ Parameters
    + index: `0` (number, optional) - The index number.
        + Default: 0
    + size: `20` (number, optional) - The size of the response (1~100).
        + Default: 20
    + sort: `-createTime` (enum[string], optional) ...
        + Default: `-createTime`
        + Members
            + `createTime`
            + `-createTime`
            
+ Request Get system announcements (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 20,
              "total": 1,
              "items": [
                {
                  "id": "5ccbb9f80d9091a83c7f0593",
                  "type": "system",
                  "message": {
                    "zh-TW": "緊急通知：2019/05/30 下午10點緊急維修，系統暫停使用"
                  },
                  "createTime": "2019-05-02T02:45:58.242Z"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The ID."
                      },
                      "type": {
                        "type": "string"
                      },
                      "message": {
                        "type": "object",
                        "properties": {
                          "zh-TW": {
                            "type": "string",
                            "description": "The message in Traditional Chinese."
                          }
                        }
                      },
                      "createTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Session create time."
                      }
                    }
                  }
                }
              }
            }


# Group Account
## Profile [/me]
### Retrieve profile [GET /me]

+ Request Get my profile (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5c949bbbe5d5377f98c81ab0",
              "name": "Your Name",
              "email": "email@example.com",
              "permission": "general-account"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "email": {
                  "type": "string"
                },
                "permission": {
                  "type": "string",
                  "enum": ["administrator", "general-account"]
                }
              }
            }

## Update profile [PUT]

- The user's permission should be 'administrator' or 'general-account'.

+ Request Update my profile (application/json)

    + Body

            {
              "name": "Your Name",
              "email": "email@example.com"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "idn-email"
                }
              }
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "5c949bbbe5d5377f98c81ab0",
              "name": "Your Name",
              "email": "email@example.com",
              "permission": "general-account"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "idn-email"
                },
                "permission": {
                  "type": "string",
                  "enum": ["administrator", "general-account"]
                }
              }
            }

## Upload sessions [/me/upload-sessions]
### Retrieve upload sessions [GET /me/upload-sessions{?index,size,sort}]
取得上傳紀錄。
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + index: `0` (number, optional) - The index number.
        + Default: 0
    + size: `100` (number, optional) - The size of the response (1~100).
        + Default: 100
    + sort: `-createTime` (enum[string], optional) ...
        + Default: `-createTime`
        + Members
            + `createTime`
            + `-createTime`

+ Request Get upload sessions (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 1,
              "items": [
                {
                  "id": "5ca996477242134e2593331d",
                  "state": "failure",
                  "errorType": "lost-exif-time",
                  "project": {
                    "id": "5c9af1d2403d37067adadbc5",
                    "title": "計畫名稱",
                    "shortTitle": "計畫簡稱",
                    "funder": "委辦單位",
                    "code": "計畫編號",
                    "principalInvestigator": "計畫主持人",
                    "startTime": "2019-01-01T00:00:00.000Z",
                    "endTime": "2029-01-01T00:00:00.000Z",
                    "areas": [
                      "5c9af16a4ee1b606477f9236"
                    ],
                    "coverImageFile": "5c9b1dfafc43be12b823b7b2",
                    "members": [
                      {
                        "user": "5c949bbbe5d5377f98c81ab0",
                        "role": "manager"
                      },
                      {
                        "user": "5ca570886ee6391d81fd773e",
                        "role": "researcher"
                      }
                    ],
                    "dataFields": [
                      "5c9af16a4ee1b606477f9229",
                      "5c9af16a4ee1b606477f922a",
                      "5c9af16a4ee1b606477f922b",
                      "5c9af16a4ee1b606477f922c",
                      "5c9af16a4ee1b606477f922d",
                      "5c9af16a4ee1b606477f9231"
                    ],
                    "dailyTestTime": "13:00:00"
                  },
                  "cameraLocation": {
                    "id": "5c9f28070d9cee99f8a11a12",
                    "studyArea": {
                      "id": "5c9d95acea5c9b4036d97c88",
                      "title": {
                        "zh-TW": "titleX"
                      },
                      "parent": {
                        "id": "5c9d9428e7462d3d989cb69b",
                        "title": {
                          "zh-TW": "title"
                        }
                      }
                    },
                    "name": "PT02A",
                    "settingTime": "2019-01-01T00:00:00.000Z",
                    "latitude": 58.28,
                    "longitude": 121.462417,
                    "altitude": 100,
                    "vegetation": "植被",
                    "landCover": "土地覆蓋類型"
                  },
                  "file": {
                    "id": "5ca996477242134e2593331c",
                    "type": "annotation-image",
                    "originalFilename": "IMG_1073.JPG",
                    "filename": "5ca996477242134e2593331c.jpg",
                    "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/annotation-images/5ca996477242134e2593331c.jpg",
                    "size": 1609437
                  },
                  "createTime": "2019-04-07T06:18:47.234Z"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The session ID."
                      },
                      "state": {
                        "type": "string",
                        "enum": [
                          "processing",
                          "wait-for-review",
                          "cancel",
                          "success",
                          "failure"
                        ]
                      },
                      "errorType": {
                        "type": "string",
                        "enum": [
                          "lost-exif-time",
                          "inconsistent-quantity",
                          "images-and-csv-not-match",
                          "permission-denied",
                          "others"
                        ]
                      },
                      "project": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "title": {
                            "type": "object",
                            "description": "計畫名稱"
                          },
                          "shortTitle": {
                            "type": "string",
                            "description": "計畫簡稱"
                          },
                          "funder": {
                            "type": "string",
                            "description": "委辦單位"
                          },
                          "code": {
                            "type": "string",
                            "description": "計畫編號"
                          },
                          "principalInvestigator": {
                            "type": "string",
                            "description": "計畫主持人"
                          },
                          "startTime": {
                            "type": "Date",
                            "description": "計畫時間（開始）"
                          },
                          "endTime": {
                            "type": "Date",
                            "description": "計畫時間（結束）"
                          },
                          "areas": {
                            "type": "array",
                            "description": "計畫地區",
                            "item": {
                              "title": "id",
                              "type": "string"
                            }
                          },
                          "coverImageFile": {
                            "type": "string",
                            "description": "封面檔案 ID"
                          },
                          "members": {
                            "type": "array",
                            "description": "計畫成員",
                            "item": {
                              "type": "object",
                              "properties": {
                                "user": {
                                  "type": "string",
                                  "description": "成員 ID"
                                },
                                "role": {
                                  "type": "string",
                                  "description": "計畫管理員, 計畫研究員, 計畫執行者",
                                  "enum": [
                                    "manager",
                                    "researcher",
                                    "executor"
                                  ]
                                }
                              }
                            }
                          },
                          "dataFields": {
                            "type": "array",
                            "description": "資料欄位",
                            "item": {
                              "type": "string",
                              "description": "欄位名稱"
                            }
                          },
                          "dailyTestTime": {
                            "type": "string",
                            "format": "time",
                            "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。<br/>此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。",
                            "enum": [
                              "null",
                              ""
                            ]
                          }
                        }
                      },
                      "cameraLocation": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "The camera location ID."
                          },
                          "studyArea": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "The study area ID."
                              },
                              "title": {
                                "type": "object",
                                "properties": {
                                  "zh-TW": {
                                    "type": "string",
                                    "description": "The study area title in Traditional Chinese."
                                  }
                                }
                              },
                              "parent": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "description": "The affiliating study area ID."
                                  },
                                  "title": {
                                    "type": "object",
                                    "properties": {
                                      "zh-TW": {
                                        "type": "string",
                                        "description": "The affiliating study area title in Traditional Chinese."
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "name": {
                            "type": "string",
                            "description": "相機位置編號如 PT02A。"
                          },
                          "settingTime": {
                            "type": "string",
                            "format": "date-time",
                            "description": "架設日期(ISO-8601)"
                          },
                          "latitude": {
                            "type": "number",
                            "description": "十進位緯度 (WGS84)"
                          },
                          "longitude": {
                            "type": "number",
                            "description": "十進位經度 (WGS84)"
                          },
                          "altitude": {
                            "type": "number",
                            "description": "海拔（公尺）"
                          },
                          "vegetation": {
                            "type": "string",
                            "description": "植被"
                          },
                          "landCover": {
                            "type": "string",
                            "description": "土地覆蓋類型"
                          }
                        }
                      },
                      "file": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "The file ID."
                          },
                          "type": {
                            "type": "string",
                            "description": "檔案類別",
                            "enum": [
                              "project-cover-image",
                              "annotation-image"
                            ]
                          },
                          "originalFilename": {
                            "type": "string",
                            "description": "原始檔名"
                          },
                          "filename": {
                            "type": "string",
                            "description": "儲存於 S3 的檔名"
                          },
                          "url": {
                            "type": "string",
                            "format": "uri"
                          },
                          "size": {
                            "type": "integer",
                            "description": "File size in byte."
                          }
                        }
                      },
                      "createTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Session create time."
                      }
                    }
                  }
                }
              }
            }
            
### Cancel the upload session [POST /me/upload-sessions/{uploadSessionId}/_cancel]
取消等待確認是否複寫標註的上傳紀錄。
- The user's permission should be 'administrator' or 'general-account'.
- The user should be the creator of this upload session.

+ Parameters
    + uploadSessionId: `5cc932399628d9ac0c1aa3a4` (string) - The upload session id.

+ Request Cancel the upload session (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5cc9a4d4b69a35e2043dbb02",
              "state": "cancel",
              "project": "5c9af1d2403d37067adadbc5",
              "cameraLocation": "5cbc125b431eb3db39702744",
              "file": "5cc9a4d4b69a35e2043dbb01",
              "createTime": "2019-05-01T13:53:24.269Z"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "The upload session id."
                },
                "state": {
                  "type": "string",
                  "enum": [
                    "processing",
                    "wait-for-review",
                    "cancel",
                    "success",
                    "failure"
                  ]
                },
                "project": {
                  "type": "string",
                  "description": "The project id."
                },
                "cameraLocation": {
                  "type": "string",
                  "description": "The camera location id."
                },
                "file": {
                  "type": "string",
                  "description": "The file id."
                },
                "createTime": {
                  "type": "string"
                }
              }
            }

### Overwrite annotations of the upload session [POST /me/upload-sessions/{uploadSessionId}/_overwrite]
確認複寫上傳紀錄的標註。
- The user's permission should be 'administrator' or 'general-account'.
- The user should be the creator of this upload session.

+ Parameters
    + uploadSessionId: `5cc932399628d9ac0c1aa3a4` (string) - The upload session id.

+ Request Overwrite annotations of the upload session (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5cc9a4d4b69a35e2043dbb02",
              "state": "success",
              "project": "5c9af1d2403d37067adadbc5",
              "cameraLocation": "5cbc125b431eb3db39702744",
              "file": "5cc9a4d4b69a35e2043dbb01",
              "createTime": "2019-05-01T13:53:24.269Z"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "The upload session id."
                },
                "state": {
                  "type": "string",
                  "enum": [
                    "processing",
                    "wait-for-review",
                    "cancel",
                    "success",
                    "failure"
                  ]
                },
                "project": {
                  "type": "string",
                  "description": "The project id."
                },
                "cameraLocation": {
                  "type": "string",
                  "description": "The camera location id."
                },
                "file": {
                  "type": "string",
                  "description": "The file id."
                },
                "createTime": {
                  "type": "string"
                }
              }
            }


## Notifications [/me/notifications]
### Retrieve my notification [GET /me/notifications{?index,size,sort,isRead}]
取得通知。
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + index: `0` (number, optional) - The index number.
        + Default: 0
    + size: `20` (number, optional) - The size of the response (1~100).
        + Default: 20
    + sort: `-createTime` (enum[string], optional) ...
        + Default: `-createTime`
        + Members
            + `createTime`
            + `-createTime`
    + isRead: `false` (enum[string], optional) - `false` means fetch unread notifications.
        + Members
            + `true`
            + `false`

+ Request Get my notifications (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 20,
              "total": 1,
              "items": [
                {
                  "id": "5cc9468f75ad8cb7e8eea934",
                  "type": "data-field-application",
                  "isRead": true,
                  "dataField": {
                    "id": "5cc9468f75ad8cb7e8eea933",
                    "state": "wait-for-review",
                    "title": {
                      "zh-TW": "for testing notifications"
                    },
                    "widgetType": "text",
                    "description": {
                    },
                    "options": [
                    ]
                  },
                  "sender": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example.com",
                    "permission": "administrator"
                  },
                  "createTime": "2019-05-01T07:11:11.552Z"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The notification ID."
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "upload-success",
                          "upload-failure'",
                          "data-field-application",
                          "data-field-approved",
                          "new-issue",
                          "new-suggestion"
                        ]
                      },
                      "isRead": {
                        "type": "boolean"
                      },
                      "dataField": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "systemCode": {
                            "type": "string",
                            "description": "樣區"
                          },
                          "title": {
                            "type": "object",
                            "properties": {
                              "zh-TW": "string",
                              "description": "繁體中文樣區名稱"
                            }
                          },
                          "widgetType": {
                            "type": "string",
                            "enum": [
                              "select"
                            ]
                          },
                          "description": {
                            "type": "object",
                            "properties": {
                              "zh-TW": {
                                "type": "string",
                                "description": "繁體中文相機位置名稱"
                              }
                            }
                          },
                          "options": {
                            "type": "array"
                          }
                        }
                      },
                      "issue": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "The issue ID."
                          }
                        }
                      },
                      "uploadSession": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "The upload session ID."
                          },
                          "state": {
                            "type": "string",
                            "enum": [
                              "processing",
                              "wait-for-review",
                              "cancel",
                              "success",
                              "failure"
                            ]
                          },
                          "errorType": {
                            "type": "string",
                            "enum": [
                              "lost-exif-time",
                              "inconsistent-quantity",
                              "images-and-csv-not-match",
                              "permission-denied",
                              "others"
                            ]
                          },
                          "project": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "title": {
                                "type": "object",
                                "description": "計畫名稱"
                              },
                              "shortTitle": {
                                "type": "string",
                                "description": "計畫簡稱"
                              },
                              "funder": {
                                "type": "string",
                                "description": "委辦單位"
                              },
                              "code": {
                                "type": "string",
                                "description": "計畫編號"
                              },
                              "principalInvestigator": {
                                "type": "string",
                                "description": "計畫主持人"
                              },
                              "startTime": {
                                "type": "Date",
                                "description": "計畫時間（開始）"
                              },
                              "endTime": {
                                "type": "Date",
                                "description": "計畫時間（結束）"
                              },
                              "areas": {
                                "type": "array",
                                "description": "計畫地區",
                                "item": {
                                  "title": "id",
                                  "type": "string"
                                }
                              },
                              "coverImageFile": {
                                "type": "string",
                                "description": "封面檔案 ID"
                              },
                              "members": {
                                "type": "array",
                                "description": "計畫成員",
                                "item": {
                                  "type": "object",
                                  "properties": {
                                    "user": {
                                      "type": "string",
                                      "description": "成員 ID"
                                    },
                                    "role": {
                                      "type": "string",
                                      "description": "計畫管理員, 計畫研究員, 計畫執行者",
                                      "enum": [
                                        "manager",
                                        "researcher",
                                        "executor"
                                      ]
                                    }
                                  }
                                }
                              },
                              "dataFields": {
                                "type": "array",
                                "description": "資料欄位",
                                "item": {
                                  "type": "string",
                                  "description": "欄位名稱"
                                }
                              },
                              "dailyTestTime": {
                                "type": "string",
                                "format": "time",
                                "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。<br/>此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。",
                                "enum": [
                                  "null",
                                  ""
                                ]
                              }
                            }
                          },
                          "cameraLocation": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "The camera location ID."
                              },
                              "studyArea": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "description": "The study area ID."
                                  },
                                  "title": {
                                    "type": "object",
                                    "properties": {
                                      "zh-TW": {
                                        "type": "string",
                                        "description": "The study area title in Traditional Chinese."
                                      }
                                    }
                                  },
                                  "parent": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string",
                                        "description": "The affiliating study area ID."
                                      },
                                      "title": {
                                        "type": "object",
                                        "properties": {
                                          "zh-TW": {
                                            "type": "string",
                                            "description": "The affiliating study area title in Traditional Chinese."
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "name": {
                                "type": "string",
                                "description": "相機位置編號如 PT02A。"
                              },
                              "settingTime": {
                                "type": "string",
                                "format": "date-time",
                                "description": "架設日期(ISO-8601)"
                              },
                              "latitude": {
                                "type": "number",
                                "description": "十進位緯度 (WGS84)"
                              },
                              "longitude": {
                                "type": "number",
                                "description": "十進位經度 (WGS84)"
                              },
                              "altitude": {
                                "type": "number",
                                "description": "海拔（公尺）"
                              },
                              "vegetation": {
                                "type": "string",
                                "description": "植被"
                              },
                              "landCover": {
                                "type": "string",
                                "description": "土地覆蓋類型"
                              }
                            }
                          },
                          "file": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "The file ID."
                              },
                              "type": {
                                "type": "string",
                                "description": "檔案類別",
                                "enum": [
                                  "project-cover-image",
                                  "annotation-image"
                                ]
                              },
                              "originalFilename": {
                                "type": "string",
                                "description": "原始檔名"
                              },
                              "filename": {
                                "type": "string",
                                "description": "儲存於 S3 的檔名"
                              },
                              "url": {
                                "type": "string",
                                "format": "uri"
                              },
                              "size": {
                                "type": "integer",
                                "description": "File size in byte."
                              }
                            }
                          },
                          "createTime": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Session create time."
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            
### Set `isRead` of all notifications as `true` [POST /me/notifications/_read]
將所有通知變更為已讀。
- The user's permission should be 'administrator' or 'general-account'.

+ Request Set `isRead` of all notifications as `true` (application/json)

+ Response 204 (application/json)

## Logout [/logout]
### Log out [POST /logout]
- The user's permission should be 'administrator' or 'general-account'.

+ Request Logout (application/json)

+ Response 204


# Group Users
## Search users [/users]
### Search users [GET /users{?user}]
檢查帳號是否存在。
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + user: `email@example.com` (string) - 使用帳號 orcid 或 email 搜尋
    
+ Request Get users (application/json)

+ Response 200

    + Body
    
            {
              "index": 0,
              "size": 100,
              "total": 1,
              "items": [
                {
                  "id": "5c9f28070d9cee99f8a11a12",
                  "name": "user name",
                  "email": "email@example.com",
                  "permission": "general-account"
                }
              ]
            }
            
    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string",
                        "description": "名稱"
                      },
                      "email": {
                        "type": "string",
                        "description": "電子信箱"
                      },
                      "permission": {
                        "type": "string",
                        "description": "權限",
                        "enum": ["administrator", "general-account"]
                      }
                    }
                  }
                }
              }
            }


# Group Projects
## Overview [/projects]
### List projects [GET /projects{?index,size,sort}]
取得計畫列表。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects.

+ Parameters
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `100` (number, optional) - The size of the result set (1~100).
        + Default: 24
    + sort: `oldestAnnotationTime` (enum[string], optional) ...
        + Default: `oldestAnnotationTime`
        + Members
            + `oldestAnnotationTime`
            + `latestAnnotationTime`
            + `funder`
            + `title`

+ Request Get projects (application/json)

+ Response 200

    + Body

            {
              "index": 0,
              "size": 24,
              "total": 1,
              "items": [
                {
                  "id": "5c99e565fa899867c32377cf",
                  "title": "計畫名稱",
                  "shortTitle": "計畫簡稱",
                  "funder": "委辦單位",
                  "code": "計畫編號",
                  "principalInvestigator": "計畫主持人",
                  "startTime": "2019-01-01T00:00:00.000Z",
                  "endTime": "2029-01-01T00:00:00.000Z",
                  "areas": [
                    "5c9af16a4ee1b606477f9236"
                  ],
                  "description": "計畫摘要",
                  "note": "備註",
                  "coverImageFile": {
                    "id": "5c9b1dfafc43be12b823b7b2",
                    "type": "project-cover-image",
                    "originalFilename": "432x324c.jpg",
                    "filename": "5c9b1dfafc43be12b823b7b2.jpg",
                    "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/project-covers/5c9b1dfafc43be12b823b7b2.jpg",
                    "size": 26172
                  },
                  "publishTime": "2029-01-01T00:00:00.000Z",
                  "interpretiveDataLicense": "cc0",
                  "identificationInformationLicense": "by",
                  "videoMaterialLicense": "by",
                  "members": [
                    {
                      "user": "5c949bbbe5d5377f98c81ab0",
                      "role": "manager"
                    }
                  ],
                  "dataFields": ["5c99bece337ea758248ffd5b"],
                  "dailyTestTime": "13:00:00",
                  "latestAnnotationTime": "2019-01-01T00:00:00.000Z",
                  "oldestAnnotationTime": "2019-01-01T00:00:00.000Z"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "number",
                  "description": "The page index."
                },
                "size": {
                  "type": "number",
                  "description": "The page size."
                },
                "total": {
                  "type": "number",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "description": "Documents.",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "title": {
                        "type": "object",
                        "description": "計畫名稱"
                      },
                      "shortTitle": {
                        "type": "string",
                        "description": "計畫簡稱"
                      },
                      "funder": {
                        "type": "string",
                        "description": "委辦單位"
                      },
                      "code": {
                        "type": "string",
                        "description": "計畫編號"
                      },
                      "principalInvestigator": {
                        "type": "string",
                        "description": "計畫主持人"
                      },
                      "startTime": {
                        "type": "Date",
                        "description": "計畫時間（開始）"
                      },
                      "endTime": {
                        "type": "Date",
                        "description": "計畫時間（結束）"
                      },
                      "areas": {
                        "type": "array",
                        "description": "計畫地區",
                        "item": {
                          "title": "id",
                          "type": "string"
                        }
                      },
                      "description": {
                        "type": "string",
                        "description": "計畫摘要"
                      },
                      "note": {
                        "type": "string",
                        "description": "備註"
                      },
                      "coverImageFile": {
                        "type": "object",
                        "description": "計畫封面圖片檔案，物件內容參照 FileModel",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "File id string"
                          },
                          "type": {
                            "type": "string",
                            "description": "影像類型",
                            "enum": ["project-cover-image"]
                          },
                          "originalFilename": {
                            "type": "string",
                            "description": "原始檔案名"
                          },
                          "filename": {
                            "type": "string",
                            "description": "系統編碼後之檔案名稱"
                          },
                          "url": {
                            "type": "string",
                            "description": "公開存取網址"
                          },
                          "size": {
                            "type": "integer",
                            "description": "File size in byte."
                          }
                        }
                      },
                      "publishTime": {
                        "type": "string",
                        "format": "data-time",
                        "description": "公開日期"
                      },
                      "interpretiveDataLicense": {
                        "type": "string",
                        "description": "詮釋資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                        "enum": ["cc0", "by", "by-nc"],
                        "additionalItems": false
                      },
                      "identificationInformationLicense": {
                        "type": "string",
                        "description": "鑑定資訊創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                        "enum": ["cc0", "by", "by-nc"],
                        "additionalItems": false
                      },
                      "videoMaterialLicense": {
                        "type": "string",
                        "description": "影像資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                        "enum": ["cc0", "by", "by-nc"],
                        "additionalItems": false
                      },
                      "members": {
                        "type": "array",
                        "description": "計畫成員",
                        "item": {
                          "type": "object",
                          "properties": {
                            "user": {
                              "type": "string",
                              "description": "成員 ID"
                            },
                            "role": {
                              "type": "string",
                              "description": "計畫管理員, 計畫研究員, 計畫執行者",
                              "enum": ["manager", "researcher", "executor"]
                            }
                          }
                        }
                      },
                      "dataFields": {
                        "type": "array",
                        "description": "資料欄位",
                        "item": {
                          "type": "string",
                          "description": "欄位名稱"
                        }
                      },
                      "dailyTestTime": {
                        "type": "string",
                        "format": "time",
                        "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。<br/>此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。",
                        "enum": ["null", ""]
                      },
                      "latestAnnotationTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "資料最後更新時間"
                      },
                      "oldestAnnotationTime": {
                        "type": "string",
                        "format": "data-time",
                        "description": "資料起始年份"
                      }
                    }
                  }
                }
              }
            }

## Create a project [POST /projects]
新增計畫。
- The user's permission should be 'administrator' or 'general-account'.

+ Request Create a project (application/json)

    + Body

            {
              "title": "計畫名稱",
              "shortTitle": "計畫簡稱",
              "funder": "委辦單位",
              "code": "計畫編號",
              "principalInvestigator": "計畫主持人",
              "startTime": "2019-01-01T00:00:00.000Z",
              "endTime": "2029-01-01T00:00:00.000Z",
              "areas": [
                "5c9af16a4ee1b606477f9236"
              ],
              "description": "計畫摘要",
              "note": "備註",
              "coverImageFile": "5c9b1dfafc43be12b823b7b2",
              "publishTime": "2029-01-01T00:00:00.000Z",
              "interpretiveDataLicense": "cc0",
              "identificationInformationLicense": "by",
              "videoMaterialLicense": "by"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "計畫名稱"
                },
                "shortTitle": {
                  "type": "string",
                  "description": "計畫簡稱"
                },
                "funder": {
                  "type": "string",
                  "description": "委辦單位"
                },
                "code": {
                  "type": "string",
                  "description": "計畫編號"
                },
                "principalInvestigator": {
                  "type": "string",
                  "description": "計畫主持人"
                },
                "startTime" : {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（開始）"
                },
                "endTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（結束）"
                },
                "areas": {
                  "type": "array",
                  "item": {
                    "type": "string",
                    "description": "計畫地區 ProjectAreaModel 的 id"
                  }
                },
                "description": {
                  "type": "string",
                  "description": "計畫摘要"
                },
                "note": {
                  "type": "string",
                  "description": "備註"
                },
                "coverImageFile": {
                  "type": "string",
                  "description": "計畫封面圖片檔案 id 內容為 FileModel 的 id"
                },
                "publishTime": {
                  "type": "string",
                  "format": "data-time",
                  "description": "公開日期"
                },
                "interpretiveDataLicense": {
                  "type": "string",
                  "description": "詮釋資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": ["cc0", "by", "by-nc"],
                  "additionalItems": false
                },
                "identificationInformationLicense": {
                  "type": "string",
                  "description": "鑑定資訊創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": ["cc0", "by", "by-nc"],
                  "additionalItems": false
                },
                "videoMaterialLicense": {
                  "type": "string",
                  "description": "影像資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": ["cc0", "by", "by-nc"],
                  "additionalItems": false
                }
              },
              "required": ["title", "shortTitle", "funder", "code", "principalInvestigator", "startTime", "endTime"]
            }

+ Response 200

    + Body

            {
              "id": "5c99e565fa899867c32377cf",
              "title": "計畫名稱",
              "shortTitle": "計畫簡稱",
              "funder": "委辦單位",
              "code": "計畫編號",
              "principalInvestigator": "計畫主持人",
              "startTime": "2019-01-01T00:00:00.000Z",
              "endTime": "2029-01-01T00:00:00.000Z",
              "areas": [
                {
                  "id": "5c9af16a4ee1b606477f9236",
                  "title": {
                    "zh-TW": "台北市",
                    "en-US": "Taipei City"
                  }
                }
              ],
              "description": "計畫摘要",
              "note": "備註",
              "coverImageFile": {
                "id": "5c9b1dfafc43be12b823b7b2",
                "type": "project-cover-image",
                "originalFilename": "432x324c.jpg",
                "filename": "5c9b1dfafc43be12b823b7b2.jpg",
                "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/project-covers/5c9b1dfafc43be12b823b7b2.jpg",
                "size": 26172
              },
              "publishTime": "2029-01-01T00:00:00.000Z",
              "interpretiveDataLicense": "cc0",
              "identificationInformationLicense": "by",
              "videoMaterialLicense": "by",
              "members": [
                {
                  "user": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example.com",
                    "permission": "general-account"
                  },
                  "role": "manager"
                }
              ],
              "dataFields": [
                {
                  "id": "5c99bece337ea758248ffd5b",
                  "systemCode": "study-area",
                  "title": {
                    "zh-TW": "樣區"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": "樣區-子樣區"
                  },
                  "options": [
                  ]
                }
              ],
              "dailyTestTime": "13:00:00",
              "latestAnnotationTime": "2019-01-01T00:00:00.000Z",
              "oldestAnnotationTime": "2019-01-01T00:00:00.000Z"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "title": {
                  "type": "string",
                  "description": "計畫名稱"
                },
                "shortTitle": {
                  "type": "string",
                  "description": "計畫簡稱"
                },
                "funder": {
                  "type": "string",
                  "description": "委辦單位"
                },
                "code": {
                  "type": "string",
                  "description": "計畫編號"
                },
                "principalInvestigator": {
                  "type": "string",
                  "description": "計畫主持人"
                },
                "startTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（開始）"
                },
                "endTime": {
                  "type": "string",
                  "format": "data-time",
                  "description": "計畫時間（結束）"
                },
                "areas": {
                  "type": "array",
                  "item": {
                    "type": "string",
                    "description": "計畫地區 ProjectAreaModel 的 id"
                  }
                },
                "description": {
                  "type": "string",
                  "description": "計畫摘要"
                },
                "note": {
                  "type": "string",
                  "description": "備註"
                },
                "coverImageFile": {
                  "type": "object",
                  "description": "計畫封面圖片檔案，物件內容參照 FileModel",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "File id string"
                    },
                    "type": {
                      "type": "string",
                      "description": "影像類型",
                      "enum": ["project-cover-image"]
                    },
                    "originalFilename": {
                      "type": "string",
                      "description": "原始檔案名"
                    },
                    "filename": {
                      "type": "string",
                      "description": "系統編碼後之檔案名稱"
                    },
                    "url": {
                      "type": "string",
                      "description": "公開存取網址"
                    },
                    "size": {
                      "type": "integer",
                      "description": "File size in byte."
                    }
                  }
                },
                "publishTime": {
                  "type": "string",
                  "format": "data-time",
                  "description": "公開日期"
                },
                "interpretiveDataLicense": {
                  "type": "string",
                  "description": "詮釋資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "identificationInformationLicense": {
                  "type": "string",
                  "description": "鑑定資訊創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "videoMaterialLicense": {
                  "type": "string",
                  "description": "影像資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "members": {
                  "type": "array",
                  "description": "計畫成員",
                  "item": {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "string",
                        "description": "成員 ID"
                      },
                      "role": {
                        "type": "string",
                        "description": "計畫管理員, 計畫研究員, 計畫執行者",
                        "enum": [
                          "manager",
                          "researcher",
                          "executor"
                        ]
                      }
                    }
                  }
                },
                "dataFields": {
                  "type": "array",
                  "description": "資料欄位",
                  "item": {
                    "type": "string",
                    "description": "欄位名稱"
                  }
                },
                "dailyTestTime": {
                  "type": "string",
                  "format": "time",
                  "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。格式請見 <https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times>。"
                },
                "latestAnnotationTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "資料最後更新時間"
                },
                "oldestAnnotationTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "資料起始年份"
                }
              }
            }

### Get a project [GET /projects/{projectId}]
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets study areas of all projects.
- The general-account gets the project who joined.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

+ Request Get a project (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5c99e565fa899867c32377cf",
              "title": "計畫名稱",
              "shortTitle": "計畫簡稱",
              "funder": "委辦單位",
              "code": "計畫編號",
              "principalInvestigator": "計畫主持人",
              "startTime": "2019-01-01T00:00:00.000Z",
              "endTime": "2029-01-01T00:00:00.000Z",
              "areas": [
                {
                  "id": "5c9af16a4ee1b606477f9236",
                  "title": {
                    "zh-TW": "台北市",
                    "en-US": "Taipei City"
                  }
                }
              ],
              "description": "計畫摘要",
              "note": "備註",
              "coverImageFile": {
                "id": "5c9b1dfafc43be12b823b7b2",
                "type": "project-cover-image",
                "originalFilename": "432x324c.jpg",
                "filename": "5c9b1dfafc43be12b823b7b2.jpg",
                "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/project-covers/5c9b1dfafc43be12b823b7b2.jpg",
                "size": 26172
              },
              "publishTime": "2029-01-01T00:00:00.000Z",
              "interpretiveDataLicense": "cc0",
              "identificationInformationLicense": "by",
              "videoMaterialLicense": "by",
              "members": [
                {
                  "user": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example.com",
                    "permission": "general-account"
                  },
                  "role": "manager"
                }
              ],
              "dataFields": [
                {
                  "id": "5c99bece337ea758248ffd5b",
                  "systemCode": "study-area",
                  "title": {
                    "zh-TW": "樣區"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": "樣區-子樣區"
                  },
                  "options": [
                  ]
                }
              ],
              "dailyTestTime": "13:00:00",
              "latestAnnotationTime": "2019-01-01T00:00:00.000Z",
              "oldestAnnotationTime": "2019-01-01T00:00:00.000Z"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "title": {
                  "type": "string",
                  "description": "計畫名稱"
                },
                "shortTitle": {
                  "type": "string",
                  "description": "計畫簡稱"
                },
                "funder": {
                  "type": "string",
                  "description": "委辦單位"
                },
                "code": {
                  "type": "string",
                  "description": "計畫編號"
                },
                "principalInvestigator": {
                  "type": "string",
                  "description": "計畫主持人"
                },
                "startTime" : {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（開始）"
                },
                "endTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（結束）"
                },
                "areas": {
                  "type": "array",
                  "item": {
                    "type": "string",
                    "description": "計畫地區 ProjectAreaModel 的 id"
                  }
                },
                "description": {
                  "type": "string",
                  "description": "計畫摘要"
                },
                "note": {
                  "type": "string",
                  "description": "備註"
                },
                "coverImageFile": {
                  "type": "object",
                  "description": "計畫封面圖片檔案，物件內容參照 FileModel",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "File id string"
                    },
                    "type": {
                      "type": "string",
                      "description": "影像類型",
                      "enum": ["project-cover-image"]
                    },
                    "originalFilename": {
                      "type": "string",
                      "description": "原始檔案名"
                    },
                    "filename": {
                      "type": "string",
                      "description": "系統編碼後之檔案名稱"
                    },
                    "url": {
                      "type": "string",
                      "description": "公開存取網址"
                    },
                    "size": {
                      "type": "integer",
                      "description": "File size in byte."
                    }
                  }
                },
                "publishTime": {
                  "type": "string",
                  "format": "data-time",
                  "description": "公開日期"
                },
                "interpretiveDataLicense": {
                  "type": "string",
                  "description": "詮釋資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": ["cc0", "by", "by-nc"],
                  "additionalItems": false
                },
                "identificationInformationLicense": {
                  "type": "string",
                  "description": "鑑定資訊創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": ["cc0", "by", "by-nc"],
                  "additionalItems": false
                },
                "videoMaterialLicense": {
                  "type": "string",
                  "description": "影像資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": ["cc0", "by", "by-nc"],
                  "additionalItems": false
                },
                "members": {
                  "type": "array",
                  "description": "計畫成員",
                  "item": {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "string",
                        "description": "成員 ID"
                      },
                      "role": {
                        "type": "string",
                        "description": "計畫管理員, 計畫研究員, 計畫執行者",
                        "enum": [
                          "manager",
                          "researcher",
                          "executor"
                        ]
                      }
                    }
                  }
                },
                "dataFields": {
                  "type": "array",
                  "description": "資料欄位",
                  "item": {
                    "type": "string",
                    "description": "欄位名稱"
                  }
                },
                "dailyTestTime": {
                  "type": "string",
                  "format": "time",
                  "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。格式請見 <https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times>。"
                },
                "latestAnnotationTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "資料最後更新時間"
                },
                "oldestAnnotationTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "資料起始年份"
                }
              }
            }

### Update the project [PUT /projects/{projectId}]
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects and who is a project manager.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

+ Request Update the project (application/json)

    + Body

            {
              "title": "計畫名稱",
              "shortTitle": "計畫簡稱",
              "funder": "委辦單位",
              "code": "計畫編號",
              "principalInvestigator": "計畫主持人",
              "startTime": "2019-01-01T00:00:00.000Z",
              "endTime": "2029-01-01T00:00:00.000Z",
              "areas": [
                "5c9af16a4ee1b606477f9236"
              ],
              "description": "計畫摘要",
              "note": "備註",
              "coverImageFile": "5c9b1dfafc43be12b823b7b2",
              "publishTime": "2029-01-01T00:00:00.000Z",
              "interpretiveDataLicense": "cc0",
              "identificationInformationLicense": "by",
              "videoMaterialLicense": "by",
              "dataFields": [
                "5c9af16a4ee1b606477f9229",
                "5c9af16a4ee1b606477f922a",
                "5c9af16a4ee1b606477f922b",
                "5c9af16a4ee1b606477f922c",
                "5c9af16a4ee1b606477f922d"
              ],
              "dailyTestTime": "13:00:00"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "計畫名稱"
                },
                "shortTitle": {
                  "type": "string",
                  "description": "計畫簡稱"
                },
                "funder": {
                  "type": "string",
                  "description": "委辦單位"
                },
                "code": {
                  "type": "string",
                  "description": "計畫編號"
                },
                "principalInvestigator": {
                  "type": "string",
                  "description": "計畫主持人"
                },
                "startTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（開始）"
                },
                "endTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（結束）"
                },
                "areas": {
                  "type": "array",
                  "item": {
                    "type": "string",
                    "description": "計畫地區 ProjectAreaModel 的 id"
                  }
                },
                "description": {
                  "type": "string",
                  "description": "計畫摘要"
                },
                "note": {
                  "type": "string",
                  "description": "備註"
                },
                "coverImageFile": {
                  "type": "string",
                  "description": "計畫封面圖片檔案 id 內容為 FileModel 的 id"
                },
                "publishTime": {
                  "type": "string",
                  "format": "data-time",
                  "description": "公開日期"
                },
                "interpretiveDataLicense": {
                  "type": "string",
                  "description": "詮釋資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "identificationInformationLicense": {
                  "type": "string",
                  "description": "鑑定資訊創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "videoMaterialLicense": {
                  "type": "string",
                  "description": "影像資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "dataFields": {
                  "type": "array",
                  "description": "計畫資料所包含的欄位。",
                  "item": {
                    "type": "string",
                    "description": "資料欄位 id。"
                  }
                },
                "dailyTestTime": {
                  "type": "string",
                  "format": "time",
                  "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。格式請見 <https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times>。"
                }
              },
              "required": ["title", "shortTitle", "funder", "code", "principalInvestigator", "startTime", "endTime"]
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "5c99e565fa899867c32377cf",
              "title": "計畫名稱",
              "shortTitle": "計畫簡稱",
              "funder": "委辦單位",
              "code": "計畫編號",
              "principalInvestigator": "計畫主持人",
              "startTime": "2019-01-01T00:00:00.000Z",
              "endTime": "2029-01-01T00:00:00.000Z",
              "areas": [
                {
                  "id": "5c9af16a4ee1b606477f9236",
                  "title": {
                    "zh-TW": "台北市",
                    "en-US": "Taipei City"
                  }
                }
              ],
              "description": "計畫摘要",
              "note": "備註",
              "coverImageFile": {
                "id": "5c9b1dfafc43be12b823b7b2",
                "type": "project-cover-image",
                "originalFilename": "432x324c.jpg",
                "filename": "5c9b1dfafc43be12b823b7b2.jpg",
                "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/project-covers/5c9b1dfafc43be12b823b7b2.jpg",
                "size": 26172
              },
              "publishTime": "2029-01-01T00:00:00.000Z",
              "interpretiveDataLicense": "cc0",
              "identificationInformationLicense": "by",
              "videoMaterialLicense": "by",
              "members": [
                {
                  "user": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example.com",
                    "permission": "general-account"
                  },
                  "role": "manager"
                }
              ],
              "dataFields": [
                {
                  "id": "5c99bece337ea758248ffd5b",
                  "systemCode": "study-area",
                  "title": {
                    "zh-TW": "樣區"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": "樣區-子樣區"
                  },
                  "options": [
                  ]
                }
              ],
              "dailyTestTime": "13:00:00",
              "latestAnnotationTime": "2019-01-01T00:00:00.000Z",
              "oldestAnnotationTime": "2019-01-01T00:00:00.000Z"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "計畫在資料庫中的 id"
                },
                "title": {
                  "type": "string",
                  "description": "計畫名稱"
                },
                "shortTitle": {
                  "type": "string",
                  "description": "計畫簡稱"
                },
                "funder": {
                  "type": "string",
                  "description": "委辦單位"
                },
                "code": {
                  "type": "string",
                  "description": "計畫編號"
                },
                "principalInvestigator": {
                  "type": "string",
                  "description": "計畫主持人"
                },
                "startTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（開始）"
                },
                "endTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "計畫時間（結束）"
                },
                "areas": {
                  "type": "array",
                  "item": {
                    "type": "string",
                    "description": "計畫地區 ProjectAreaModel 的 id"
                  }
                },
                "description": {
                  "type": "string",
                  "description": "計畫摘要"
                },
                "note": {
                  "type": "string",
                  "description": "備註"
                },
                "coverImageFile": {
                  "type": "object",
                  "description": "計畫封面圖片檔案，物件內容參照 FileModel",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "File id string"
                    },
                    "type": {
                      "type": "string",
                      "description": "影像類型",
                      "enum": [
                        "project-cover-image"
                      ]
                    },
                    "originalFilename": {
                      "type": "string",
                      "description": "原始檔案名"
                    },
                    "filename": {
                      "type": "string",
                      "description": "系統編碼後之檔案名稱"
                    },
                    "url": {
                      "type": "string",
                      "description": "公開存取網址"
                    },
                    "size": {
                      "type": "integer",
                      "description": "File size in byte."
                    }
                  }
                },
                "publishTime": {
                  "type": "string",
                  "format": "data-time",
                  "description": "公開日期"
                },
                "interpretiveDataLicense": {
                  "type": "string",
                  "description": "詮釋資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "identificationInformationLicense": {
                  "type": "string",
                  "description": "鑑定資訊創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "videoMaterialLicense": {
                  "type": "string",
                  "description": "影像資料創用 CC 授權許可 cc0 (無著作權), by (姓名標示), by-nc (姓名標示-非商業性)",
                  "enum": [
                    "cc0",
                    "by",
                    "by-nc"
                  ],
                  "additionalItems": false
                },
                "members": {
                  "type": "array",
                  "description": "計畫成員",
                  "item": {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "object"
                      },
                      "role": {
                        "type": "string",
                        "enum": [
                          ""
                        ]
                      }
                    }
                  }
                },
                "dataFields": {
                  "type": "array",
                  "description": "計畫資料所包含的欄位。",
                  "item": {
                    "type": "string",
                    "description": "資料欄位 id。"
                  }
                },
                "dailyTestTime": {
                  "type": "string",
                  "format": "time",
                  "description": "每日測試照片拍攝時間，null 或空字串代表關閉此功能。此欄位僅儲存字串，測試時尋找 csv 中時間欄位為此字串結尾且物種為測試。格式請見 <https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times>。"
                },
                "latestAnnotationTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "資料最後更新時間"
                },
                "oldestAnnotationTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "資料起始年份"
                }
              },
              "required": ["title", "shortTitle", "funder", "code", "principalInvestigator", "startTime", "endTime"]
            }

## Species Preset [/projects/{projectId}/species]
維䕶隨計畫而定的預設物種清單。

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

### Retrieve species preset [GET /projects/{projectId}/species{?index,size,sort}]
取得計畫預設物種清單。

- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `9007199254740991` (number, optional) - The size of the result set (1~9007199254740991).
        + Default: 9007199254740991
    + sort: `index` (enum[string], optional) ...
        + Default: `index`
        + Members
            + `index`
            + `-index`

+ Request Retrieve species preset (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 4,
              "items": [
                {
                  "id": "5c99e565fa899867c32377d0",
                  "title": {
                    "zh-TW": "空拍"
                  },
                  "index": 0,
                  "code": "empty-shot"
                },
                {
                  "id": "5c99e565fa899867c32377d1",
                  "title": {
                    "zh-TW": "測試"
                  },
                  "index": 1,
                  "code": "test"
                },
                {
                  "id": "5c99e565fa899867c32377d2",
                  "title": {
                    "zh-TW": "人"
                  },
                  "index": 2,
                  "code": "people"
                },
                {
                  "id": "5c99e9f772033c68e65592fb",
                  "title": {
                    "zh-TW": "test"
                  },
                  "index": 3
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "number",
                  "description": "The page index."
                },
                "size": {
                  "type": "number",
                  "description": "The page size."
                },
                "total": {
                  "type": "number",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "description": "Documents.",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "title": {
                        "type": "object",
                        "description": "名稱",
                        "properties": {
                          "zh-TW": {
                            "type": "string",
                            "description": "Naming in Traditional Chinese."
                          }
                        }
                      },
                      "index": {
                        "type": "integer"
                      },
                      "code": {
                        "type": "string",
                        "description": "Machine code for internal referencing."
                      }
                    }
                  }
                }
              }
            }

## Update species preset [PUT /projects/{projectId}/species]
批次新增、更新物種清單。  
已存在物種僅可更改順序，不可更改標題且不可刪除。  
新增的物種標題為必填。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects and who is a project manager.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

+ Request Update species of the project (application/json)

    + Body

            [
              {
                "id": "5c9af1d2403d37067adadbc6"
              },
              {
                "id": "5c9af1d2403d37067adadbc7"
              },
              {
                "id": "5c9af1d2403d37067adadbc8"
              },
              {
                "title": {
                  "zh-TW": "Create this one."
                }
              }
            ]

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "title": {
                        "type": "object",
                        "properties": {
                          "zh-TW": {
                            "type": "string",
                            "description": "Message in Traditional Chinese."
                          }
                        }
                      }
                    }
                  }
                ]
              }
            }

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 9007199254740991,
              "total": 4,
              "items": [
                {
                  "id": "5c9af1d2403d37067adadbc6",
                  "title": {
                    "zh-TW": "空拍"
                  },
                  "index": 0,
                  "code": "empty-shot"
                },
                {
                  "id": "5c9af1d2403d37067adadbc7",
                  "title": {
                    "zh-TW": "測試"
                  },
                  "index": 1,
                  "code": "test"
                },
                {
                  "id": "5c9af1d2403d37067adadbc8",
                  "title": {
                    "zh-TW": "人"
                  },
                  "index": 2,
                  "code": "people"
                },
                {
                  "id": "5ca74924b92468b3ef96fcfd",
                  "title": {
                    "zh-TW": "Create this one."
                  },
                  "index": 3
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "object",
                          "properties": {
                            "zh-TW": {
                              "type": "string",
                              "description": "Title in Traditional Chinese."
                            }
                          }
                        },
                        "index": {
                          "type": "integer"
                        },
                        "code": {
                          "type": "string",
                          "description": "Machine code for internal reference."
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "object",
                          "properties": {
                            "zh-TW": {
                              "type": "string",
                              "description": "Message in Traditional Chinese."
                            }
                          }
                        },
                        "index": {
                          "type": "integer"
                        }
                      }
                    }
                  ]
                }
              }
            }

## Members [/projects/{projectId}/members]
+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

### Add a member [POST /projects/{projectId}/members]
新增成員於指定計畫中。  
新增前必須檢查帳號是否存在。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects and who is a project manager.
+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

+ Request Add a member into the project (application/json)

    + Body

            {
              "user": "name@example.com",
              "role": "manager"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "user": {
                  "type": "string",
                  "description": "使用者的 ORCiD 或 email."
                },
                "role": {
                  "type": "string",
                  "description": "manager (計畫管理員), researcher (計畫研究員), executor (計畫執行者)",
                  "enum": ["manager", "researcher", "executor"]
                }
              }
            }

+ Response 200 (application/json)

    + Body

            [
              {
                "user": {
                  "id": "5c949bbbe5d5377f98c81ab0",
                  "name": "測試",
                  "email": "name@example.com",
                  "permission": "general-account"
                },
                "role": "manager"
              }
            ]

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "user": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string",
                        "description": "Full name of the member."
                      },
                      "email": {
                        "type": "string",
                        "format": "idn-email"
                      },
                      "permission": {
                        "type": "string",
                        "enum": ["administrator", "general-account"]
                      }
                    }
                  },
                  "role": {
                    "type": "string",
                    "description": "manager (計畫管理員), researcher (計畫研究員), executor (計畫執行者)",
                    "enum": ["manager", "researcher", "executor"]
                  }
                }
              }
            }

## Update members [PUT /projects/{projectId}/members]
批次更新/刪除計畫成員。  
上傳的資料不包含某成員代表刪除，不支援批次新增成員。

- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects and who is a project manager.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

+ Request Update members of the project (application/json)

    + Body

            [
              {
                "user": "5c949bbbe5d5377f98c81ab0",
                "role": "manager"
              },
              {
                "user": "5ca570886ee6391d81fd773e",
                "role": "researcher"
              }
            ]


    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "role": {
                        "type": "string",
                        "description": "manager (計畫管理員), researcher (計畫研究員), executor (計畫執行者)",
                        "enum": ["manager", "researcher", "executor"]
                      }
                    }
                  }
                ]
              }
            }

+ Response 200 (application/json)

    + Body

            [
              {
                "user": {
                  "id": "5c949bbbe5d5377f98c81ab0",
                  "name": "測試",
                  "email": "name@example.com",
                  "permission": "general-account"
                },
                "role": "manager"
              },
              {
                "user": {
                  "id": "5c949bbbe5d5377f98c81ab1",
                  "name": "測試2",
                  "email": "name2@example.com",
                  "permission": "general-account"
                },
                "role": "researcher"
              }
            ]

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "array",
              "item": {
                "type": "object",
                "properties": {
                  "user": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string",
                        "description": "Full name of the member."
                      },
                      "email": {
                        "type": "string",
                        "format": "idn-email"
                      },
                      "permission": {
                        "type": "string",
                        "enum": ["administrator", "general-account"]
                      }
                    }
                  },
                  "role": {
                    "type": "string",
                    "description": "manager (計畫管理員), researcher (計畫研究員), executor (計畫執行者)",
                    "enum": ["manager", "researcher", "executor"]
                  }
                }
              }
            }


## Study Areas [/projects/{projectId}/study-areas]
+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

### List study areas [GET /projects/{projectId}/study-areas]
取得專案啟用的所有樣區。

- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets study areas of all projects.
- The general-account gets the project who joined.

+ Request Get study areas of the project (application/json)

+ Response 200 (application/json)

    + Body

            [
              {
                "id": "5c9d9428e7462d3d989cb69b",
                "title": {
                  "zh-TW": "台北"
                },
                "failures": 1,
                "isLockedAllCameraLocation": false,
                "children": [
                  {
                    "id": "5c9d9456e7462d3d989cb69c",
                    "title": {
                      "zh-TW": "內湖站"
                    },
                    "failures": 1,
                    "isLockedAllCameraLocation": true,
                    "parent": "5c9d9428e7462d3d989cb69b",
                    "cameraLocation": {
                      "id": "5c9f28070d9cee99f8a11a12",
                      "studyArea": "5c9d95acea5c9b4036d97c88",
                      "name": "PT02A",
                      "settingTime": "2019-01-01T00:00:00.000Z",
                      "latitude": 58.28,
                      "longitude": 121.462417,
                      "altitude": 100,
                      "vegetation": "植被",
                      "landCover": "土地覆蓋類型"
                    }
                  },
                  {
                    "id": "5c9d95acea5c9b4036d97c88",
                    "title": {
                      "zh-TW": "大安站"
                    },
                    "failures": 0,
                    "isLockedAllCameraLocation": false,
                    "parent": "5c9d9428e7462d3d989cb69b"
                  }
                ]
              }
            ]

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "array",
              "item": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "title": {
                    "type": "object",
                    "properties": {
                      "title": {
                        "type": "object",
                        "properties": {
                          "zh-TW": {
                            "type": "Study area name in Traditional Chinese."
                          }
                        }
                      }
                    }
                  },
                  "failures": {
                    "type": "number",
                    "description": "The total of annotations of the study area (include children)."
                  },
                  "isLockedAllCameraLocation": {
                    "type": "boolean",
                    "description": "該樣區底下是否所有相機位置被鎖定。（不包含子樣區）"
                  },
                  "children": {
                    "type": "array",
                    "item": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "object",
                          "properties": {
                            "zh-TW": {
                              "type": "string",
                              "description": "Study area name in Traditional Chinese."
                            }
                          }
                        },
                        "failures": {
                          "type": "number",
                          "description": "The total of annotations of the study area (include children)."
                        },
                        "isLockedAllCameraLocation": {
                          "type": "boolean",
                          "description": "該樣區底下是否所有相機位置被鎖定。（不包含子樣區）"
                        },
                        "cameraLocation": {
                          "type": "object",
                          "description": "樣區的其中一個相機位置，供繪製樣區地圖。",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string",
                              "description": "相機位置名稱"
                            },
                            "studyArea": {
                              "type": "string",
                              "description": "樣區 ID。"
                            },
                            "settingTime": {
                              "type": "string",
                              "format": "date-time",
                              "description": "架設日期(ISO-8601)"
                            },
                            "latitude": {
                              "type": "number",
                              "description": "十進位緯度 (WGS84)"
                            },
                            "longitude": {
                              "type": "number",
                              "description": "十進位經度 (WGS84)"
                            },
                            "altitude": {
                              "type": "number",
                              "description": "海拔（公尺）"
                            },
                            "vegetation": {
                              "type": "string",
                              "description": "植被"
                            },
                            "landCover": {
                              "type": "string",
                              "description": "土地覆蓋類型"
                            }
                          }
                        },
                        "parent": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "cameraLocation": {
                    "type": "object",
                    "description": "樣區的其中一個相機位置，供繪製樣區地圖。",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string",
                        "description": "相機位置名稱"
                      },
                      "studyArea": {
                        "type": "string",
                        "description": "樣區 ID。"
                      },
                      "settingTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "架設日期(ISO-8601)"
                      },
                      "latitude": {
                        "type": "number",
                        "description": "十進位緯度 (WGS84)"
                      },
                      "longitude": {
                        "type": "number",
                        "description": "十進位經度 (WGS84)"
                      },
                      "altitude": {
                        "type": "number",
                        "description": "海拔（公尺）"
                      },
                      "vegetation": {
                        "type": "string",
                        "description": "植被"
                      },
                      "landCover": {
                        "type": "string",
                        "description": "土地覆蓋類型"
                      }
                    }
                  }
                }
              }
            }

## Add a study area [POST /projects/{projectId}/study-areas]
新增樣區。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects and who is a project manager.

+ Request Create a study area of the project (application/json)

    + Body

            {
              "title": {
                "zh-TW": "台北"
              },
              "parent": "5c9d9428e7462d3d989cb69b"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "title": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "Study area name 樣區名稱 in Traditional Chinese."
                    }
                  }
                },
                "parent": {
                  "type": "string",
                  "description": "母樣區 id，新增子樣區時使用。"
                }
              }
            }

+ Response 200 (applition/json)

    + Body

            {
              "id": "5c949bbbe5d5377f98c81ab0",
              "title": {
                "zh-TW": "台北"
              }
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "本樣區 id。"
                },
                "title": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "Study area name 樣區名稱 in Traditional Chinese."
                    }
                  }
                }
              }
            }

## Camera Locations [/projects/{projectId}/camera-locations]
+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.

### Retrieve camera locations [GET /projects/{projectId}/camera-locations{?index,size,sort,name}]
檢查相機位置名稱是否已被使用。  
同一計畫底下相機位置名稱不可重複，新增或修改相機位置前請先檢查是否有重複。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `100` (number, optional) - The size of the result set (1~100).
        + Default: 100
    + sort: `name` (enum[string], optional) ...
        + Default: `name`
        + Members
            + `name`
    + name: `PL01A` (string) - 使用相機名稱搜尋

+ Request Search camera locations by name (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 1,
              "items": [
                {
                  "id": "5c9f28070d9cee99f8a11a12",
                  "name": "PT02A",
                  "studyArea": "5c9d95acea5c9b4036d97c88",
                  "settingTime": "2019-01-01T00:00:00.000Z",
                  "latitude": 58.28,
                  "longitude": 121.462417,
                  "altitude": 100,
                  "vegetation": "植被",
                  "landCover": "土地覆蓋類型"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string",
                        "description": "相機位置名稱"
                      },
                      "studyArea": {
                        "type": "string",
                        "description": "樣區 ID。"
                      },
                      "settingTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "架設日期(ISO-8601)"
                      },
                      "latitude": {
                        "type": "number",
                        "description": "十進位緯度 (WGS84)"
                      },
                      "longitude": {
                        "type": "number",
                        "description": "十進位經度 (WGS84)"
                      },
                      "altitude": {
                        "type": "number",
                        "description": "海拔（公尺）"
                      },
                      "vegetation": {
                        "type": "string",
                        "description": "植被"
                      },
                      "landCover": {
                        "type": "string",
                        "description": "土地覆蓋類型"
                      }
                    }
                  }
                }
              }
            }

### Update camera locations [PUT /projects/{projectId}/camera-locations/{cameraLocationId}]
更新相機位置。  
（因為操作相機位置時前端有可能不知道關聯的樣區所以省略指定樣區）
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + cameraLocationId: `5c9f28070d9cee99f8a11a12` (string) - The camera location ID.

+ Request Update the camera location (application/json)

    + Body

            {
              "name": "PT02A",
              "settingTime": "2019-01-01T00:00:00.000Z",
              "latitude": 58.28,
              "longitude": 121.462417,
              "altitude": 100,
              "vegetation": "植被",
              "landCover": "土地覆蓋類型"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "相機位置名稱"
                },
                "settingTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "架設日期(ISO-8601)"
                },
                "latitude": {
                  "type": "number",
                  "description": "十進位緯度 (WGS84)"
                },
                "longitude": {
                  "type": "number",
                  "description": "十進位經度 (WGS84)"
                },
                "altitude": {
                  "type": "number",
                  "description": "海拔（公尺）"
                },
                "vegetation": {
                  "type": "string",
                  "description": "植被"
                },
                "landCover": {
                  "type": "string",
                  "description": "土地覆蓋類型"
                }
              }
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "5c9f28070d9cee99f8a11a12",
              "name": "PT02A",
              "studyArea":{
                "id": "5c9d95acea5c9b4036d97c88",
                "title":{
                  "zh-TW": "titleX"
                }
              },
              "settingTime": "2019-01-01T00:00:00.000Z",
              "latitude": 58.28,
              "longitude": 121.462417,
              "altitude": 100,
              "vegetation": "植被",
              "landCover": "土地覆蓋類型"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string",
                  "description": "相機位置名稱"
                },
                "studyArea": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Study area ID."
                    },
                    "title": {
                      "type": "object",
                      "properties": {
                        "zh-TW": {
                          "type": "string",
                          "description": "繁體中文樣區名稱。"
                        }
                      }
                    }

                  }
                },
                "settingTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "架設日期(ISO-8601)"
                },
                "latitude": {
                  "type": "number",
                  "description": "十進位緯度 (WGS84)"
                },
                "longitude": {
                  "type": "number",
                  "description": "十進位經度 (WGS84)"
                },
                "altitude": {
                  "type": "number",
                  "description": "海拔（公尺）"
                },
                "vegetation": {
                  "type": "string",
                  "description": "植被"
                },
                "landCover": {
                  "type": "string",
                  "description": "土地覆蓋類型"
                }
              }
            }

### Delete a camera location [DELETE /projects/{projectId}/camera-locations/{cameraLocationId}]
刪除相機位置。  
（因為操作相機位置時前端有可能不知道關聯的樣區所以省略指定樣區）
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects and who is a project manager.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + cameraLocationId: `5c9f28070d9cee99f8a11a12` (string) - The camera location ID.

+ Request Delete a camera location (application/json)

+ Response 204 (application/json)


### Lock the camera location [POST /projects/{projectId}/camera-locations/{cameraLocationId}/_lock]
鎖定相機位置，進入編輯模式。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The user is joined the the project.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + cameraLocationId: `5c9f28070d9cee99f8a11a12` (string) - The camera location ID.

+ Request Lock the camera location (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5c9f28070d9cee99f8a11a12",
              "name": "PT02A",
              "studyArea": "5c9d95acea5c9b4036d97c88",
              "settingTime": "2019-01-01T00:00:00.000Z",
              "latitude": 58.28,
              "longitude": 121.462417,
              "altitude": 100,
              "vegetation": "植被",
              "landCover": "土地覆蓋類型",
              "isLocked": true,
              "lockUser": {
                "id": "5c949bbbe5d5377f98c81ab0",
                "name": "測試",
                "email": "email@example.com",
                "permission": "administrator"
              }
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string",
                  "description": "相機位置名稱"
                },
                "studyArea": {
                  "type": "string"
                },
                "settingTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "架設日期(ISO-8601)"
                },
                "latitude": {
                  "type": "number",
                  "description": "十進位緯度 (WGS84)"
                },
                "longitude": {
                  "type": "number",
                  "description": "十進位經度 (WGS84)"
                },
                "altitude": {
                  "type": "number",
                  "description": "海拔（公尺）"
                },
                "vegetation": {
                  "type": "string",
                  "description": "植被"
                },
                "landCover": {
                  "type": "string",
                  "description": "土地覆蓋類型"
                },
                "isLocked": {
                  "type": "boolean",
                  "description": "是否已鎖定進入編輯模式"
                },
                "lockUser": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "permission": {
                      "type": "string"
                    }
                  }
                }
              }
            }

### Unlock the camera location [POST /projects/{projectId}/camera-locations/{cameraLocationId}/_unlock]
解除鎖定相機位置，離開編輯模式。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The user is joined the the project.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + cameraLocationId: `5c9f28070d9cee99f8a11a12` (string) - The camera location ID.

+ Request Unlock the camera location (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5c9f28070d9cee99f8a11a12",
              "name": "PT02A",
              "studyArea": "5c9d95acea5c9b4036d97c88",
              "settingTime": "2019-01-01T00:00:00.000Z",
              "latitude": 58.28,
              "longitude": 121.462417,
              "altitude": 100,
              "vegetation": "植被",
              "landCover": "土地覆蓋類型",
              "isLocked": false
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string",
                  "description": "相機位置名稱"
                },
                "studyArea": {
                  "type": "string"
                },
                "settingTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "架設日期(ISO-8601)"
                },
                "latitude": {
                  "type": "number",
                  "description": "十進位緯度 (WGS84)"
                },
                "longitude": {
                  "type": "number",
                  "description": "十進位經度 (WGS84)"
                },
                "altitude": {
                  "type": "number",
                  "description": "海拔（公尺）"
                },
                "vegetation": {
                  "type": "string",
                  "description": "植被"
                },
                "landCover": {
                  "type": "string",
                  "description": "土地覆蓋類型"
                },
                "isLocked": {
                  "type": "boolean",
                  "description": "是否已鎖定進入編輯模式"
                },
                "lockUser": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "permission": {
                      "type": "string"
                    }
                  }
                }
              }
            }


## Camera locations in study areas [/projects/{projectId}/study-areas/{studyAreaId}/camera-locations]
+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + studyAreaId: `` (string) - The study area ID.

### Retrieve camera locations in a study area [GET /projects/{projectId}/study-areas/{studyAreaId}/camera-locations{?index,size,sort}]
取得樣區底下啟用的相機位置。  
如果指定的樣區是母樣區時會連子樣區的相機位置一起取得。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets affiliated projects.

+ Parameters
    + projectId: `5c99e565fa899867c32377cf` (string) - The project ID.
    + studyAreaId: `5c9d95acea5c9b4036d97c88` (string) - The study area ID.
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `100` (number, optional) - The size of the result set (1~100).
        + Default: 100
    + sort: `name` (enum[string], optional) ...
        + Default: `name`
        + Members
            + `name`
            + `-name`

+ Request Get camera locations of the study area (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 2,
              "items": [
                {
                  "id": "5c9f268cd8605e99862339ff",
                  "name": "pT03B",
                  "studyArea": "5c9d95acea5c9b4036d97c88",
                  "latitude": 25.014051,
                  "longitude": 121.462417,
                  "isLocked": false,
                  "failures": 0,
                  "canTrash": false
                },
                {
                  "id": "5c9f28070d9cee99f8a11a12",
                  "name": "PT02A",
                  "studyArea": "5c9d95acea5c9b4036d97c88",
                  "settingTime": "2019-01-01T00:00:00.000Z",
                  "latitude": 58.28,
                  "longitude": 121.462417,
                  "altitude": 100,
                  "vegetation": "植被",
                  "landCover": "土地覆蓋類型",
                  "isLocked": true,
                  "lockUser": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example",
                    "permission": "administrator"
                  },
                  "failures": 0,
                  "canTrash": false
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string",
                        "description": "相機位置名稱"
                      },
                      "studyArea": {
                        "type": "string",
                        "description": "樣區 ID。"
                      },
                      "settingTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "架設日期(ISO-8601)"
                      },
                      "latitude": {
                        "type": "number",
                        "description": "十進位緯度 (WGS84)"
                      },
                      "longitude": {
                        "type": "number",
                        "description": "十進位經度 (WGS84)"
                      },
                      "altitude": {
                        "type": "number",
                        "description": "海拔（公尺）"
                      },
                      "vegetation": {
                        "type": "string",
                        "description": "植被"
                      },
                      "landCover": {
                        "type": "string",
                        "description": "土地覆蓋類型"
                      },
                      "isLocked": {
                        "type": "boolean",
                        "description": "是否已鎖定進入編輯模式"
                      },
                      "lockUser": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "permission": {
                            "type": "string"
                          }
                        }
                      },
                      "failures": {
                        "type": "number",
                        "description": "wf 4.17 錯誤提示：供相機位置顯示 annotation 錯誤數量"
                      },
                      "canTrash": {
                        "type": "boolean",
                        "description": "wf 3.4 計畫管理：供判斷該相機位置是否能刪除"
                      }
                    }
                  }
                }
              }
            }


### Create a camera location in a specified study area [POST /projects/{projectId}/study-areas/{studyAreaId}/camera-locations]
在指定的樣區新增相機位置。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets the project who joined and who is a project manager.

+ Request Create a camera location to a study area (application/json)

    + Body

            {
              "name": "PT02A",
              "settingTime": "2019-01-01T00:00:00.000Z",
              "latitude": 58.28,
              "longitude": 121.462417,
              "altitude": 100,
              "vegetation": "植被",
              "landCover": "土地覆蓋類型"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "相機位置名稱"
                },
                "settingTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "架設日期(ISO-8601)"
                },
                "latitude": {
                  "type": "number",
                  "description": "十進位緯度 (WGS84)"
                },
                "longitude": {
                  "type": "number",
                  "description": "十進位經度 (WGS84)"
                },
                "altitude": {
                  "type": "number",
                  "description": "海拔（公尺）"
                },
                "vegetation": {
                  "type": "string",
                  "description": "植被"
                },
                "landCover": {
                  "type": "string",
                  "description": "土地覆蓋類型"
                }
              }
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "5c9f28070d9cee99f8a11a12",
              "name": "PT02A",
              "studyArea": {
                "id": "5c9d95acea5c9b4036d97c88",
                "title": {
                  "zh-TW": "titleX"
                }
              },
              "settingTime": "2019-01-01T00:00:00.000Z",
              "latitude": 58.28,
              "longitude": 121.462417,
              "altitude": 100,
              "vegetation": "植被"
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string",
                  "description": "相機位置名稱"
                },
                "studyArea": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Study area ID."
                    },
                    "title": {
                      "type": "object",
                      "properties": {
                        "zh-TW": {
                          "type": "string",
                          "description": "繁體中文樣區名稱。"
                        }
                      }
                    }
                  }
                },
                "settingTime": {
                  "type": "string",
                  "format": "date-time",
                  "description": "架設日期(ISO-8601)"
                },
                "latitude": {
                  "type": "number",
                  "description": "十進位緯度 (WGS84)"
                },
                "longitude": {
                  "type": "number",
                  "description": "十進位經度 (WGS84)"
                },
                "altitude": {
                  "type": "number",
                  "description": "海拔（公尺）"
                },
                "vegetation": {
                  "type": "string",
                  "description": "植被"
                },
                "landCover": {
                  "type": "string",
                  "description": "土地覆蓋類型"
                }
              }
            }


# Group Data Fields

## Retrieve data fields[/data-fields]
### Retrieve data fields [GET /data-fields{?index,size,sort,filter}]
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `100` (number, optional) - The size of the result set (1~100).
        + Default: 100
    + sort: `createTime` (enum[string], optional) ...
        + Default: `createTime`
        + Members
            + `createTime`
    + filter: `system` (enum[string], optional) ...
        + Members
            + `system`
            + `custom`

+ Request Get data fields (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 7,
              "items": [
                {
                  "id": "5c9af16a4ee1b606477f9229",
                  "systemCode": "study-area",
                  "title": {
                    "zh-TW": "樣區"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": "樣區-子樣區"
                  },
                  "options": []
                },
                {
                  "id": "5c9af16a4ee1b606477f922a",
                  "systemCode": "camera-location",
                  "title": {
                    "zh-TW": "相機位置"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": "相機位置名稱"
                  },
                  "options": []
                },
                {
                  "id": "5c9af16a4ee1b606477f922b",
                  "systemCode": "file-name",
                  "title": {
                    "zh-TW": "檔名"
                  },
                  "widgetType": "text",
                  "description": {
                    "zh-TW": "01234.jpg"
                  },
                  "options": []
                },
                {
                  "id": "5c9af16a4ee1b606477f922c",
                  "systemCode": "time",
                  "title": {
                    "zh-TW": "日期時間"
                  },
                  "widgetType": "time",
                  "description": {
                    "zh-TW": "YY/MM/DD hh:mm"
                  },
                  "options": []
                },
                {
                  "id": "5c9af16a4ee1b606477f922d",
                  "systemCode": "species",
                  "title": {
                    "zh-TW": "物種"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": ""
                  },
                  "options": []
                },
                {
                  "id": "5c9af16a4ee1b606477f922e",
                  "title": {
                    "zh-TW": "性別"
                  },
                  "widgetType": "select",
                  "description": {
                    "zh-TW": "公、母"
                  },
                  "options": [
                    {
                      "id": "5c9af16a4ee1b606477f9230",
                      "zh-TW": "公"
                    },
                    {
                      "id": "5c9af16a4ee1b606477f922f",
                      "zh-TW": "母"
                    }
                  ]
                },
                {
                  "id": "5c9af16a4ee1b606477f9235",
                  "title": {
                    "zh-TW": "備註"
                  },
                  "widgetType": "text",
                  "description": {
                    "zh-TW": ""
                  },
                  "options": []
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "systemCode": {
                        "type": "string",
                        "description": "樣區"
                      },
                      "title": {
                        "type": "object",
                        "properties": {
                          "zh-TW": "string",
                          "description": "繁體中文樣區名稱"
                        }
                      },
                      "widgetType": {
                        "type": "string",
                        "enum": ["select"]
                      },
                      "description": {
                        "type": "object",
                        "properties": {
                          "zh-TW": {
                            "type": "string",
                            "description": "繁體中文相機位置名稱"
                          }
                        }
                      },
                      "options": {
                        "type": "array"
                      }
                    }
                  }
                }
              }
            }

## Apply for a new data field [/data-fields]
### Apply for a new data field [POST /data-fields]
申請新欄位。
- The user's permission should be 'administrator' or 'general-account'.

+ Request Create a data field (application/json)

    + Body

            {
              "title": {
                "zh-TW": "title"
              },
              "widgetType": "select",
              "description": {
                "zh-TW": "description"
              },
              "options": [
                {"zh-TW": "xx"}
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "title": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "繁體中文選單名稱"
                    }
                  }
                },
                "widgetType": {
                  "type": "string",
                  "enum": ["select"]
                },
                "description": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "繁體中文選單說明"
                    }
                  }
                },
                "options": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "zh-TW": {
                        "type": "string",
                        "description": "繁體中文選項名稱"
                      }
                    }
                  }
                }
              }
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "5c9f31037ef1509d50d2911f",
              "title": {
                "zh-TW": "title"
              },
              "widgetType": "select",
              "description": {
                "zh-TW": "description"
              },
              "options": [
                {
                  "id": "5c9f31037ef1509d50d29120",
                  "zh-TW": "xx"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "title": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "繁體中文選單名稱"
                    }
                  }
                },
                "widgetType": {
                  "type": "string",
                  "enum": ["select"]
                },
                "description": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "繁體中文選單說明"
                    }
                  }
                },
                "options": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "zh-TW": {
                        "type": "string",
                        "description": "繁體中文選項名稱"
                      }
                    }
                  }
                }
              }
            }

## Retrieve data field information [/data-fields/{dataFieldId}]
### Retrieve data field information [GET /data-fields/{dataFieldId}]
取得欄位詳細資料。
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + dataFieldId: `5c9af16a4ee1b606477f922e` (number) - The data field ID.

+ Request Get a data field (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5c9af16a4ee1b606477f922e",
              "state": "approved",
              "title": {
                "zh-TW": "性別"
              },
              "widgetType": "select",
              "description": {
                "zh-TW": "公、母"
              },
              "options": [
                {
                  "id": "5c9af16a4ee1b606477f9230",
                  "zh-TW": "公"
                },
                {
                  "id": "5c9af16a4ee1b606477f922f",
                  "zh-TW": "母"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "The data field ID."
                },
                "state": {
                  "type": "string",
                  "description": "The status of this field.",
                  "enum": ["approved", "pending", "rejected"]
                },
                "title": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "繁體中文欄位名稱"
                    }
                  }
                },
                "widgetType": {
                  "type": "string",
                  "enum": ["select", "text", "datePicker"]
                },
                "description": {
                  "type": "object",
                  "properties": {
                    "zh-TW": {
                      "type": "string",
                      "description": "繁體中文欄位說明"
                    }
                  }
                },
                "options": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "欄位項目編碼"
                      },
                      "zh-TW": {
                        "type": "string",
                        "description": "繁體中文選項名稱"
                      }
                    }
                  }
                }
              }
            }


# Group Annotations
### Search annotations [GET /annotations{?studyArea,cameraLocations,startTime,endTime,index,size,sort}]
搜尋標註。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets the project who joined.

+ Parameters
    + studyArea: `5c9d95acea5c9b4036d97c88` (string, optional) - 使用樣區 id 搜尋標註，回傳結果包含子樣區資料。
    + cameraLocations: `5c9f28070d9cee99f8a11a12` (string, optional) - 使用相機位置 id 搜尋標註。<br/>多個相機位置：?cameraLocations=5c9f28070d9cee99f8a11a12&cameraLocations=5c9f28070d9cee99f8a11a13 。
    + startTime: `2017-11-09T03:48:46.000Z` (string, optional) - 開始時間
    + endTime: `2017-11-09T03:48:46.000Z` (string, optional) - 結束時間
    + index: 0 (number, optional) - The page index.
        + Default: 0
    + size: 100 (number, optional) - The page size (1~1,500).
        + Default: 100
    + sort: `cameraLocation time filename` (enum[string], optional)
        + Default: `cameraLocation time filename`
        + Members
            + `cameraLocation time filename`
            + `time filename cameraLocation`

+ Request Get annotations (application/json)

+ Response 200  (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 2,
              "items": [
                {
                  "id": "5cbabb2c84bf6a8dc5ccf960",
                  "studyArea": "5c9d95acea5c9b4036d97c88",
                  "cameraLocation": "5c9f28070d9cee99f8a11a12",
                  "failures": [
                  ],
                  "filename": "IMG_7191.JPG",
                  "time": "2010-07-25T04:27:48.000Z",
                  "species": {
                    "id": "5c9af1d2403d37067adadbc7",
                    "title": {
                      "zh-TW": "測試"
                    },
                    "index": 1,
                    "code": "test"
                  },
                  "fields": [
                    {
                      "dataField": "5c9af16a4ee1b606477f9231",
                      "value": "5c9af16a4ee1b606477f9234"
                    }
                  ]
                },
                {
                  "id": "5cbabad384bf6a8dc5ccf94b",
                  "studyArea": "5c9d95acea5c9b4036d97c88",
                  "cameraLocation": "5c9f28070d9cee99f8a11a12",
                  "failures": [
                  ],
                  "filename": "IMG_7191.JPG",
                  "file": {
                    "id": "5cbabb0284bf6a8dc5ccf953",
                    "type": "annotation-image",
                    "originalFilename": "IMG_7191.JPG",
                    "filename": "5cbabb0284bf6a8dc5ccf953.jpg",
                    "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/annotation-images/5cbabb0284bf6a8dc5ccf953.jpg",
                    "size": 3934239
                  },
                  "time": "2017-11-09T03:48:46.000Z",
                  "fields": [
                  ]
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "description": "Documents.",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "Annotation ID."
                      },
                      "studyArea": {
                        "type": "string",
                        "description": "樣區 id"
                      },
                      "cameraLocation": {
                        "type": "string",
                        "description": "相機位置 id"
                      },
                      "failures": {
                        "type": "string",
                        "enum": [
                          "new-species"
                        ],
                        "description": "物種不在預設中"
                      },
                      "filename": {
                        "type": "string",
                        "description": "檔名"
                      },
                      "file": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "The file ID."
                          },
                          "type": {
                            "type": "string",
                            "description": "檔案類別",
                            "enum": ["project-cover-image", "annotation-image"]
                          },
                          "originalFilename": {
                            "type": "string",
                            "description": "原始檔名"
                          },
                          "filename": {
                            "type": "string",
                            "description": "儲存於 S3 的檔名"
                          },
                          "url": {
                            "type": "string",
                            "format": "uri"
                          },
                          "size": {
                            "type": "integer",
                            "description": "File size in byte."
                          }
                        }
                      },
                      "time": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "species": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "物種 ID"
                          },
                          "title": {
                            "type": "object",
                            "properties": {
                              "zh-TW": {
                                "type": "string",
                                "description": "繁體中文物種名稱"
                              }
                            }
                          },
                          "index": {
                            "type": "integer",
                            "description": "順序"
                          },
                          "code": {
                            "type": "string",
                            "description": "Machine code for internal referencing."
                          }
                        }
                      },
                      "fields": {
                        "type": "array",
                        "item": {
                          "type": "object",
                          "properties": {
                            "dataField": {
                              "type": "string",
                              "description": "Data field ID."
                            },
                            "value": {
                              "type": "string",
                              "description": "Value ID."
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }



## Update annotation [PUT /annotations/{annotationId}]
更新標註。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets the project who joined.

+ Parameters
    + annotationId: `` (string) - The annotation ID.

+ Request Update an annotation (application/json)

    + Body

            {
              "species": "5c9af1d2403d37067adadbc7",
              "fields": [
                {
                  "dataField": "5c9af16a4ee1b606477f9231",
                  "value": "5c9af16a4ee1b606477f9234"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "species": {
                  "type": "string",
                  "description": "物種 ID."
                },
                "fields": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "dataField": {
                        "type": "string",
                        "description": "Data field ID."
                      },
                      "value": {
                        "type": "string",
                        "description": "Value ID."
                      }
                    }
                  }
                }
              }
            }


+ Response 200 (application/json)

    + Body

            {
              "id": "5cbabb2c84bf6a8dc5ccf960",
              "studyArea": "5c9d95acea5c9b4036d97c88",
              "cameraLocation": "5c9f28070d9cee99f8a11a12",
              "failures": [
              ],
              "filename": "IMG_7191.JPG",
              "file": {
                "id": "5cbabb0284bf6a8dc5ccf953",
                "type": "annotation-image",
                "originalFilename": "IMG_7191.JPG",
                "filename": "5cbabb0284bf6a8dc5ccf953.jpg",
                "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/annotation-images/5cbabb0284bf6a8dc5ccf953.jpg",
                "size": 3934239
              },
              "time": "2010-07-25T04:27:48.000Z",
              "species": {
                "id": "5c9af1d2403d37067adadbc7",
                "title": {
                  "zh-TW": "測試"
                },
                "index": 1,
                "code": "test"
              },
              "fields": [
                {
                  "dataField": {
                    "id": "5c9af16a4ee1b606477f9231",
                    "state": "approved",
                    "title": {
                      "zh-TW": "年齡"
                    },
                    "widgetType": "select",
                    "description": {
                      "zh-TW": "成體、亞成體、幼體"
                    },
                    "options": [
                      {
                        "id": "5c9af16a4ee1b606477f9234",
                        "zh-TW": "成體"
                      },
                      {
                        "id": "5c9af16a4ee1b606477f9233",
                        "zh-TW": "亞成體"
                      },
                      {
                        "id": "5c9af16a4ee1b606477f9232",
                        "zh-TW": "幼體"
                      }
                    ]
                  },
                  "value": "5c9af16a4ee1b606477f9234"
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Annotation ID."
                },
                "studyArea": {
                  "type": "string",
                  "description": "樣區 id"
                },
                "cameraLocation": {
                  "type": "string",
                  "description": "相機位置 id"
                },
                "failures": {
                  "type": "string",
                  "enum": [
                    "new-species"
                  ],
                  "description": "物種不在預設中"
                },
                "filename": {
                  "type": "string",
                  "description": "檔名"
                },
                "file": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "The file ID."
                    },
                    "type": {
                      "type": "string",
                      "description": "檔案類別",
                      "enum": [
                        "project-cover-image",
                        "annotation-image"
                      ]
                    },
                    "originalFilename": {
                      "type": "string",
                      "description": "原始檔名"
                    },
                    "filename": {
                      "type": "string",
                      "description": "儲存於 S3 的檔名"
                    },
                    "url": {
                      "type": "string",
                      "format": "uri"
                    },
                    "size": {
                      "type": "integer",
                      "description": "File size in byte."
                    }
                  }
                },
                "time": {
                  "type": "string",
                  "format": "date-time"
                },
                "species": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "物種 ID"
                    },
                    "title": {
                      "type": "object",
                      "properties": {
                        "zh-TW": {
                          "type": "string",
                          "description": "繁體中文物種名稱"
                        }
                      }
                    },
                    "index": {
                      "type": "integer",
                      "description": "順序"
                    },
                    "code": {
                      "type": "string",
                      "description": "Machine code for internal referencing."
                    }
                  }
                },
                "fields": {
                  "type": "array",
                  "item": {
                    "type": "object",
                    "properties": {
                      "dataField": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "Data field ID."
                          },
                          "state": {
                            "type": "string",
                            "enum": ["approved", "pending", "rejected"]
                          },
                          "title": {
                            "type": "object",
                            "properties": {
                              "zh-TW": {
                                "type": "string",
                                "description": "繁體中文欄位名稱"
                              }
                            }
                          },
                          "widgetType": {
                            "type": "string",
                            "enum": ["select", "text", "date-picker"]
                          },
                          "description": {
                            "type": "object",
                            "properties": {
                              "zh-TW": "繁體中文欄位說明。"
                            }
                          },
                          "options": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "選項編號"
                              },
                              "zh-TW": {
                                "type": "string",
                                "description": "繁體中文選項名稱"
                              }
                            }
                          }
                        }
                      },
                      "value": {
                        "type": "string",
                        "description": "Value ID."
                      }
                    }
                  }
                }
              }
            }


## Annotation revision [/annotations/{annotationId}/revisions]
### Get revisions of the annotation [GET /annotations/{annotationId}/revisions{?index,size,sort}]
取得標註的版本紀錄。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets the project who joined.

+ Parameters
    + annotationId: `5cca59e6466788f1848edac7` (string) - The annotation ID.
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `5` (number, optional) - The size of the result set.
        + Default: 5
    + sort: `-createTime` (enum[string], optional) ...
        + Default: `-createTime`
        + Members
            + `createTime`
            + `-createTime`

+ Request Get revisions of the annotation (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 5,
              "total": 2,
              "items": [
                {
                  "id": "5cca59f567af9ef185bd5ed6",
                  "user": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example.com",
                    "permission": "administrator"
                  },
                  "isCurrent": true,
                  "createTime": "2019-05-02T02:46:13.768Z"
                },
                {
                  "id": "5cca594f67af9ef185bd5ed3",
                  "user": {
                    "id": "5c949bbbe5d5377f98c81ab0",
                    "name": "測試",
                    "email": "email@example.com",
                    "permission": "administrator"
                  },
                  "isCurrent": false,
                  "createTime": "2019-05-02T02:43:27.021Z"
                }
              ]
            }

    + Schema
    
            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "description": "Documents.",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "user": {
                        "type": "object",
                        "properties": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string",
                              "description": "Full name of the member."
                            },
                            "email": {
                              "type": "string",
                              "format": "idn-email"
                            },
                            "permission": {
                              "type": "string",
                              "enum": ["administrator", "general-account"]
                            }
                          }
                        }
                      },
                      "isCurrent": {
                        "type": "boolean",
                        "description": "Is this revision current?"
                      },
                      "createTime": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }

### Rollback the annotation with the revision [POST /annotations/{annotationId}/revisions/{revisionId}/_rollback]
回復標註為指定的版本紀錄。
- The user's permission should be 'administrator' or 'general-account'.
- The administrator gets all projects.
- The general-account gets the project who joined.

+ Parameters
    + annotationId: `5cca59e6466788f1848edac7` (string) - The annotation ID.
    + revisionId: `5cca59f567af9ef185bd5ed6` (string) - The revision ID.

+ Request Rollback the annotation with the revision (application/json)

+ Response 200 (application/json)

    + Body

            {
              "id": "5cca59f567af9ef185bd5ed6",
              "user": "5c949bbbe5d5377f98c81ab0",
              "isCurrent": true,
              "createTime": "2019-05-02T02:46:13.768Z"
            }

    + Schema
    
            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "user": {
                  "type": "string"
                },
                "isCurrent": {
                  "type": "boolean",
                  "description": "Is this revision current?"
                },
                "createTime": {
                  "type": "string"
                }
              }
            }


# Group Project Areas
## List project areas [GET /project-areas{?index,size,sort}]
取得地區列表。
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + index: `0` (number, optional) - The page index.
        + Default: 0
    + size: `100` (number, optional) - The size of the result set.
        + Default: 100
    + sort: `title.zh-TW` (enum[string], optional) ...
        + Default: `title.zh-TW`
        + Members
            + `title.zh-TW`
            + `title.en-US`

+ Request Get project areas (application/json)

+ Response 200 (application/json)

    + Body

            {
              "index": 0,
              "size": 100,
              "total": 22,
              "items": [
                {
                  "id": "5c9af16a4ee1b606477f9242",
                  "title": {
                    "zh-TW": "南投縣",
                    "en-US": "Nantou County"
                  }
                },
                {
                  "id": "5c9af16a4ee1b606477f9239",
                  "title": {
                    "zh-TW": "台中市",
                    "en-US": "Taichung City"
                  }
                },
                {
                  "id": "5c9af16a4ee1b606477f9236",
                  "title": {
                    "zh-TW": "台北市",
                    "en-US": "Taipei City"
                  }
                }
              ]
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "index": {
                  "type": "integer",
                  "description": "The page index."
                },
                "size": {
                  "type": "integer",
                  "description": "The page size."
                },
                "total": {
                  "type": "integer",
                  "description": "Total of all documents."
                },
                "items": {
                  "type": "array",
                  "description": "Documents.",
                  "item": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "title": {
                        "type": "object",
                        "properties": {
                          "zh-TW": {
                            "type": "string",
                            "description": "Title in Traditional Chinese."
                          },
                          "en-US": {
                            "type": "string",
                            "description": "Title in English."
                          }
                        }
                      }
                    }
                  }
                }
              }
            }

# Group Files
## Upload files [POST /files{?type,cameraLocation}]
上傳檔案。
- The user's permission should be 'administrator' or 'general-account'.

+ Parameters
    + type: `project-cover-image` (enum[string]) - File type/purpose.

        project-cover-image, annotation-image (上傳單一圖片), annotation-csv (上傳單一csv), annotation-zip (上傳包含多張圖片及 csv 的壓縮檔)

        + Members
            + `project-cover-image`
            + `annotation-image`
            + `annotation-csv`
            + `annotation-zip`
    + cameraLocation: `5c9af16a4ee1b606477f922f` (string, optional) - 上傳 annotation 相關檔案時必須包含相機位置

+ Request Upload file (multipart/form-data; boundary=------FormBoundaryShouldDifferAtRuntime)

        ------FormBoundaryShouldDifferAtRuntime
        Content-Disposition: form-data; name="file"; filename=""
        Content-Type: application/octet-stream

        ------FormBoundaryShouldDifferAtRuntime

+ Response 200 (application/json)


    + Body

            {
              "id": "5c9afa256c59080852644719",
              "type": "project-cover-image",
              "originalFilename": "432x324c.jpg",
              "filename": "5c9afa256c59080852644719.jpg",
              "url": "https://s3-ap-northeast-1.amazonaws.com/camera-trap-api-dev/project-covers/5c9afa256c59080852644719.jpg",
              "size": 26172
            }

    + Schema

            {
              "$schema": "http://json-schema.org/draft-04/schema#",
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "The file ID."
                },
                "type": {
                  "type": "string",
                  "description": "檔案類別",
                  "enum": ["project-cover-image", "annotation-image"]
                },
                "originalFilename": {
                  "type": "string",
                  "description": "原始檔名"
                },
                "filename": {
                  "type": "string",
                  "description": "儲存於 S3 的檔名"
                },
                "url": {
                  "type": "string",
                  "format": "uri"
                },
                "size": {
                  "type": "integer",
                  "description": "File size in byte."
                }
              }
            }